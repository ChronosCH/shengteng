# å¢å¼ºç‰ˆCE-CSLæ‰‹è¯­è¯†åˆ«ç³»ç»Ÿå¯åŠ¨æŒ‡å—

## ç³»ç»Ÿæ¶æ„

æœ¬ç³»ç»ŸåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š
- åç«¯æœåŠ¡ï¼šåŸºäºFastAPIçš„ç®€åŒ–ç‰ˆCE-CSLæœåŠ¡ (ç«¯å£: 8001)
- å‰ç«¯æœåŠ¡ï¼šåŸºäºReact + Viteçš„ç”¨æˆ·ç•Œé¢ (ç«¯å£: 5173)  
- å¢å¼ºç‰ˆCE-CSLæ¨¡å‹ï¼šè®­ç»ƒå¥½çš„æ‰‹è¯­è¯†åˆ«æ¨¡å‹

## å¿«é€Ÿå¯åŠ¨

### è‡ªåŠ¨å¯åŠ¨ (æ¨è)
```bash
# Windowsç”¨æˆ·
åŒå‡»è¿è¡Œ: start_enhanced_server.bat

# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
start_enhanced_server.bat
```

### æ‰‹åŠ¨å¯åŠ¨

#### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
# æ‰“å¼€ç¬¬ä¸€ä¸ªç»ˆç«¯
cd d:\shengteng\backend
conda activate shengteng
python main_simple.py

# æˆ–ä½¿ç”¨uvicorn
uvicorn main_simple:app --host 0.0.0.0 --port 8001 --reload
```

#### 2. å¯åŠ¨å‰ç«¯æœåŠ¡  
```bash
# æ‰“å¼€ç¬¬äºŒä¸ªç»ˆç«¯
cd d:\shengteng\frontend
conda activate shengteng  # å¦‚æœéœ€è¦
npm run dev
```

## éªŒè¯æœåŠ¡çŠ¶æ€

### åç«¯æœåŠ¡æ£€æŸ¥
è®¿é—®ä»¥ä¸‹URLéªŒè¯åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
- åŸºç¡€ä¿¡æ¯: http://localhost:8001
- å¥åº·æ£€æŸ¥: http://localhost:8001/api/health
- ç»Ÿè®¡ä¿¡æ¯: http://localhost:8001/api/enhanced-cecsl/stats

### å‰ç«¯æœåŠ¡æ£€æŸ¥
- å‰ç«¯é¡µé¢: http://localhost:5173

## ä½¿ç”¨å¢å¼ºç‰ˆè§†é¢‘è¯†åˆ«åŠŸèƒ½

### 1. è®¿é—®å‰ç«¯é¡µé¢
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: http://localhost:5173

### 2. è¿›å…¥è¯†åˆ«é¡µé¢
ç‚¹å‡»"å®æ—¶æ‰‹è¯­è¯†åˆ«"æˆ–å¯¼èˆªåˆ°è¯†åˆ«åŠŸèƒ½é¡µé¢

### 3. ä½¿ç”¨å¢å¼ºç‰ˆè§†é¢‘è¯†åˆ«
- æŸ¥æ‰¾"å¢å¼ºç‰ˆCE-CSLè§†é¢‘è¯†åˆ«"ç»„ä»¶
- ä¸Šä¼ æ‰‹è¯­è§†é¢‘æ–‡ä»¶ (æ”¯æŒ: MP4, AVI, MOV, MKV, WEBM)
- æ–‡ä»¶å¤§å°é™åˆ¶: 100MB
- ç­‰å¾…å¤„ç†å®Œæˆ
- æŸ¥çœ‹è¯†åˆ«ç»“æœ

### 4. åŠŸèƒ½ç‰¹æ€§
- **æ‹–æ‹½ä¸Šä¼ **: æ”¯æŒæ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
- **è¿›åº¦æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºä¸Šä¼ å’Œå¤„ç†è¿›åº¦
- **ç»“æœå±•ç¤º**: æ˜¾ç¤ºè¯†åˆ«æ–‡æœ¬ã€ç½®ä¿¡åº¦ã€æ‰‹è¯­åºåˆ—
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶

## APIæ¥å£æ–‡æ¡£

### åŸºç¡€æ¥å£
```http
GET  /                              # æœåŠ¡ä¿¡æ¯
GET  /api/health                    # å¥åº·æ£€æŸ¥
GET  /api/enhanced-cecsl/stats      # ç»Ÿè®¡ä¿¡æ¯
```

### å¢å¼ºç‰ˆCE-CSLæ¥å£
```http
POST /api/enhanced-cecsl/test                   # æµ‹è¯•æ¨¡å‹
POST /api/enhanced-cecsl/upload-video          # ä¸Šä¼ è§†é¢‘
GET  /api/enhanced-cecsl/video-status/{task_id} # æŸ¥è¯¢çŠ¶æ€
```

### ä½¿ç”¨ç¤ºä¾‹

#### æµ‹è¯•æ¨¡å‹é¢„æµ‹
```bash
curl -X POST "http://localhost:8001/api/enhanced-cecsl/test" \
  -H "Content-Type: application/json" \
  -d '{
    "landmarks": [[0.1, 0.2, 0.3], [0.4, 0.5, 0.6]],
    "description": "æµ‹è¯•è¯·æ±‚"
  }'
```

#### ä¸Šä¼ è§†é¢‘æ–‡ä»¶
```bash
curl -X POST "http://localhost:8001/api/enhanced-cecsl/upload-video" \
  -F "file=@test_video.mp4"
```

## ç›®å½•ç»“æ„

```
d:\shengteng\
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main_simple.py          # ç®€åŒ–ç‰ˆåç«¯ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ uploads/                # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â””â”€â”€ EnhancedVideoRecognition.tsx
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ enhancedCECSLService.ts
â”‚   â”‚   â””â”€â”€ pages/
â”‚   â”‚       â””â”€â”€ RecognitionPage.tsx
â”‚   â”œâ”€â”€ .env                    # ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ training/
â”‚   â””â”€â”€ output/
â”‚       â”œâ”€â”€ enhanced_cecsl_final_model.ckpt
â”‚       â””â”€â”€ enhanced_vocab.json
â””â”€â”€ start_enhanced_server.bat   # å¯åŠ¨è„šæœ¬
```

## ç¯å¢ƒè¦æ±‚

### Pythonç¯å¢ƒ
- Python 3.11+
- condaç¯å¢ƒ: shengteng
- ä¾èµ–åŒ…: fastapi, uvicorn, numpy, pydantic

### Node.jsç¯å¢ƒ  
- Node.js 18+
- npm 8+
- ä¾èµ–åŒ…: react, typescript, vite, @mui/material

### ç³»ç»Ÿè¦æ±‚
- Windows 10/11
- å†…å­˜: 4GB+
- å­˜å‚¨: 2GB+ å¯ç”¨ç©ºé—´

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. åç«¯å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ä¾èµ–
cd backend
python -c "import fastapi, uvicorn, numpy, pydantic"

# é‡æ–°å®‰è£…ä¾èµ–
pip install fastapi uvicorn numpy pydantic python-multipart
```

#### 2. å‰ç«¯å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version
npm --version

# é‡æ–°å®‰è£…ä¾èµ–
cd frontend
npm install
```

#### 3. ç«¯å£å†²çª
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | findstr "8001"
netstat -an | findstr "5173"

# ä¿®æ”¹ç«¯å£
# åç«¯: ç¼–è¾‘ main_simple.py ä¸­çš„ç«¯å£å·
# å‰ç«¯: ç¼–è¾‘ vite.config.ts ä¸­çš„ç«¯å£å·
```

#### 4. è·¨åŸŸé—®é¢˜
- åç«¯å·²é…ç½®CORSå…è®¸æ‰€æœ‰æº
- ç¡®ä¿å‰ç«¯.envæ–‡ä»¶ä¸­APIåœ°å€æ­£ç¡®

#### 5. è§†é¢‘ä¸Šä¼ å¤±è´¥
- æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ”¯æŒ
- ç¡®è®¤æ–‡ä»¶å¤§å°ä¸è¶…è¿‡100MB
- éªŒè¯åç«¯uploadsç›®å½•æƒé™

### æ—¥å¿—æŸ¥çœ‹
```bash
# åç«¯æ—¥å¿—ï¼šåœ¨å¯åŠ¨åç«¯çš„ç»ˆç«¯çª—å£æŸ¥çœ‹
# å‰ç«¯æ—¥å¿—ï¼šåœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·Consoleä¸­æŸ¥çœ‹
```

## å¼€å‘è°ƒè¯•

### åç«¯è°ƒè¯•
```bash
cd backend
python -m debugpy --listen 5678 main_simple.py
```

### å‰ç«¯è°ƒè¯•
```bash
cd frontend  
npm run dev
# åœ¨æµè§ˆå™¨ä¸­æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
```

### APIæµ‹è¯•
```bash
# ä½¿ç”¨Postmanæˆ–curlæµ‹è¯•APIæ¥å£
# å¥åº·æ£€æŸ¥
curl http://localhost:8001/api/health
```

## æ€§èƒ½ä¼˜åŒ–

### åç«¯ä¼˜åŒ–
- å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼ï¼Œå“åº”é€Ÿåº¦å¿«
- å¯é›†æˆçœŸå®MindSporeæ¨¡å‹æé«˜å‡†ç¡®æ€§
- æ”¯æŒå¼‚æ­¥å¤„ç†ï¼Œå¯å¤„ç†å¹¶å‘è¯·æ±‚

### å‰ç«¯ä¼˜åŒ–  
- ä½¿ç”¨Viteæ„å»ºï¼Œæ”¯æŒçƒ­æ›´æ–°
- ç»„ä»¶æ‡’åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´
- Material-UIä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

## ä¸‹ä¸€æ­¥è®¡åˆ’

1. **æ¨¡å‹é›†æˆ**: é›†æˆçœŸå®çš„MindSporeæ¨ç†
2. **å…³é”®ç‚¹æå–**: æ·»åŠ MediaPipeè§†é¢‘å¤„ç†
3. **ç”¨æˆ·è®¤è¯**: æ·»åŠ ç”¨æˆ·ç™»å½•å’Œæƒé™ç®¡ç†
4. **æ•°æ®æŒä¹…åŒ–**: æ·»åŠ æ•°æ®åº“å­˜å‚¨
5. **ç”Ÿäº§éƒ¨ç½²**: é…ç½®Dockerå’Œåå‘ä»£ç†

---

**ğŸ‰ äº«å—æ‰‹è¯­è¯†åˆ«çš„å¼ºå¤§åŠŸèƒ½ï¼**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. condaç¯å¢ƒæ˜¯å¦æ­£ç¡®æ¿€æ´»
2. ä¾èµ–åŒ…æ˜¯å¦å®Œæ•´å®‰è£…  
3. ç«¯å£æ˜¯å¦è¢«å…¶ä»–ç¨‹åºå ç”¨
4. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢è®¿é—®
