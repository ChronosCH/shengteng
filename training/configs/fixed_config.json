{
    "dataset": {
        "name": "CE-CSL",
        "train_data_path": "/root/shengteng/training/data/CE-CSL/video/train",
        "valid_data_path": "/root/shengteng/training/data/CE-CSL/video/dev",
        "test_data_path": "/root/shengteng/training/data/CE-CSL/video/test",
        "train_label_path": "/root/shengteng/training/data/CE-CSL/label/train.csv",
        "valid_label_path": "/root/shengteng/training/data/CE-CSL/label/dev.csv",
        "test_label_path": "/root/shengteng/training/data/CE-CSL/label/test.csv",
        "crop_size": 160,
        "max_frames": 50,
        "vocabulary_path": "/data/shengteng/training/output_gpu/vocabulary_cleaned.json"
    },
    "model": {
        "name": "TFNet",
        "hidden_size": 128,
        "device_target": "GPU",
        "device_id": 0,
        "enable_graph_kernel": false,
        "enable_reduce_precision": true,
        "enable_auto_mixed_precision": false
    },
    "training": {
        "batch_size": 1,
        "learning_rate": 0.0001,
        "num_epochs": 50,
        "num_workers": 1,
        "weight_decay": 0.0001,
        "gradient_clip_norm": 1.0,
        "save_interval": 5,
        "eval_interval": 1,
        "early_stopping_patience": 10,
        "prefetch_size": 1,
        "max_rowsize": 4,
        "enable_data_sink": false,
        "save_best_only": false,
        "monitor_metric": "train_loss",
        "monitor_mode": "min"
    },
    "gpu_optimization": {
        "enable_graph_mode": false,
        "enable_mem_reuse": true,
        "max_device_memory": "2GB",
        "enable_profiling": false,
        "enable_dump": false,
        "enable_memory_offload": true,
        "mempool_block_size": "256MB"
    },
    "paths": {
        "checkpoint_dir": "/data/shengteng/training/checkpoints_fixed",
        "log_dir": "/data/shengteng/training/logs_fixed",
        "output_dir": "/data/shengteng/training/output_fixed",
        "best_model_path": "/data/shengteng/training/checkpoints_fixed/best_model.ckpt",
        "current_model_path": "/data/shengteng/training/checkpoints_fixed/current_model.ckpt"
    },
    "logging": {
        "level": "INFO",
        "save_logs": true,
        "print_interval": 5,
        "log_metrics": ["train_loss", "val_loss", "val_wer", "learning_rate"],
        "save_training_curves": true
    },
    "loss": {
        "ctc_blank_id": 0,
        "ctc_reduction": "mean",
        "kd_temperature": 8,
        "kd_weight": 25.0
    },
    "fixes": {
        "description": "修复版本配置 - 解决训练异常问题",
        "changes": [
            "增加了 num_epochs 到 50 以进行完整训练",
            "设置 save_best_only=false 确保保存所有epoch",
            "修改 monitor_metric 为 train_loss 避免WER=0问题",
            "增加 early_stopping_patience 到 10",
            "使用清理后的词汇表路径",
            "修改保存路径避免冲突",
            "增加详细的日志配置",
            "设置 save_interval=5 减少存储压力"
        ]
    }
}
